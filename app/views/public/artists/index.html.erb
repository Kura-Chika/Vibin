<div class="container py-4">
  <h2 class="mb-4 text-center fw-bold">アーティスト 一覧</h2>

  <% @artists.each do |artist| %>
    <%= link_to artist_path(artist), class: "text-decoration-none" do %>
      <div class="card my-3 shadow-sm p-3 d-flex flex-row align-items-center h-100">
        <!-- 画像部分 -->
        <div class="me-4">
          <%= image_tag artist.artist_image.attached? ? artist.artist_image : "Vibin_no_image.jpg", size: "100x100", class: "rounded-circle", style: "object-fit: cover;" %>
        </div>

        <!-- 情報部分 -->
        <div class="flex-grow-1 ml-3">
          <h5 class="mb-1"><%= artist.name %></h5>
          <p class="mb-1 text-muted"><strong>ジャンル：</strong><%= artist.genre.name %></p>
          <p class="mb-2"><%= artist.introduction.truncate(80) %></p>
          <!-- 投稿数・グループ数 -->
          <div class="text-muted small">
            <span>関連した投稿：<%= artist.posts.count %> 件</span><br>
            <span>関連したグループ：<%= artist.groups.count %> 件</span>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>
</div>

<!-- ページネーション -->
<div class="mt-4 d-flex justify-content-center">
  <%= paginate @artists, theme: 'bootstrap-5' %>
</div>